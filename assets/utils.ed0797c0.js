var h=Object.defineProperty,S=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var c=(e,a,t)=>a in e?h(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,d=(e,a)=>{for(var t in a||(a={}))w.call(a,t)&&c(e,t,a[t]);if(i)for(var t of i(a))A.call(a,t)&&c(e,t,a[t]);return e},p=(e,a)=>S(e,g(a));import{j as I,m as E,e as u,a as C,s as m,i as L,h as k,g as x,r as Y,N as F}from"./vendor.c28ea743.js";const D="3e1228d3c6e2442c890843a638bb9228",H="94379f34cee14049a9273ab91ac1743f",P="8037d7b07bd2402d83faba39a60c76af",T="cfddaf892c4b477bbc42a662acc4e88a",V="c7adc0ed4c124c72ad7bc79bddada094",B="8d7de23cd45f4b3fa4932c57272bacf1",G="c025297bbf004abc863773858add4058",K="a350d4d2b71a40a6a95031d25da9535f",W="Helsinki_buildings",l={addressField:"address",usageField:"usage",yearField:"yearCompleted",solarAreaField:"solarAreaSuitableM2",solarPotentialField:"solarElectricitGenPotYearlyKWh"},s=parent.Reveal;function U(e,a){const r={container:document.getElementById("viewDiv"),map:e?new u({portalItem:{id:e}}):new u({basemap:"topo"}),qualityProfile:"medium",popup:{defaultPopupTemplateEnabled:!1}},o=new C(a?p(d({},r),{camera:a}):r);return o.pixelRatio=1.5,o}function Z(e,a){var t;((t=b())==null?void 0:t.getAttribute("data-slideId"))===e&&a()}function z(e,a){var t,r;(r=(t=b())==null?void 0:t.querySelector(`[data-fragment-id="${e}"] > .play`))==null||r.addEventListener("click",a)}function b(){return s==null?void 0:s.getCurrentSlide()}function j(e){const a=document.createElement("calcite-alert");a.active=!0;const t=a.appendChild(document.createElement("div"));t.slot="message",t.textContent=e,document.body.appendChild(a)}function q(){m.registerOAuthInfos([new L({appId:"pZzd4uJ0gZddupQh",popup:!0,popupCallbackUrl:"https://esridevsummit.github.io/DS2022-Client-Side-3D-Analysis/oauth-callback-api.html"})]),window.setOAuthResponseHash=e=>{m.setOAuthResponseHash(e)}}function $(e){if(e.aborted)throw new Error("AbortError")}function J(e){if((e==null?void 0:e.message)!=="AbortError")throw e}async function Q(e,a){return await a.map.load(),a.map.layers.find(t=>t.title===e)}const R=[{minYear:1500,maxYear:1899,color:"#bd0026",label:"<1900"},{minYear:1900,maxYear:1924,color:"#f03b20",label:"1900 - 1924"},{minYear:1925,maxYear:1949,color:"#fd8d3c",label:"1925 - 1949"},{minYear:1950,maxYear:1974,color:"#feb24c",label:"1951 - 1974"},{minYear:1975,maxYear:1999,color:"#fed976",label:"1975 - 1999"},{minYear:2e3,maxYear:2020,color:"#ffffb2",label:"2000 - 2020"}];function X(e){const a=R.map(t=>({minValue:t.minYear,maxValue:t.maxYear,symbol:{type:"mesh-3d",symbolLayers:[{type:"fill",material:{color:t.color,colorMixMode:"replace"},edges:{type:"solid",color:[50,50,50,.5]}}]}}));e.renderer=new F({field:l.yearField,defaultSymbol:{type:"mesh-3d",symbolLayers:[{type:"fill",material:{color:"white",colorMixMode:"replace"},edges:{type:"solid",color:[50,50,50,.5]}}]},classBreakInfos:a})}function ee(e){e.renderer={type:"simple",symbol:{type:"mesh-3d",symbolLayers:[{type:"fill",material:{color:"white",colorMixMode:"replace"},edges:{type:"solid",color:[50,50,50,.5]}}]},visualVariables:[{type:"color",field:l.solarAreaField,legendOptions:{title:"Solar-Suitable Area (m<sup>2</sup>)"},stops:[{value:200,color:"#406f8a",label:"< 100 m<sup>2</sup>"},{value:1e3,color:"#ffe23b",label:"> 1000 m<sup>2</sup>"}],binSize:200}]}}const N=new I({spatialReference:{latestWkid:3857,wkid:102100},x:2.7756909496367406e6,y:8434900987816326e-9,z:50});function ae(e,a){const t=new k({title:"Sketch GraphicsLayer"}),r={type:"simple-marker",color:[226,119,40],outline:{color:[255,255,255],width:2}},o=new x({geometry:N,symbol:r});t.add(o);let n=new Y({layer:t,view:e,defaultCreateOptions:{hasZ:!0},defaultUpdateOptions:{enableZ:!0}});return e.on("click",async f=>{(await e.hitTest(f)).results.find(y=>y.graphic===o)&&n.update(o)}),n.on("update",()=>a(o)),{graphicsLayer:t,pointGraphic:o}}const _="sum_area",te=[new E({onStatisticField:l.solarAreaField,outStatisticFieldName:_,statisticType:"sum"})];function oe(e){const a=document.getElementById("sumContainer");a.style.display="block",a.style.backgroundColor="white",a.style.padding="5px",e.ui.add("sumContainer","top-right")}export{D,H as E,P as H,T as M,V as S,G as W,q as a,J as b,Z as c,l as d,K as e,W as f,Q as g,X as h,U as i,ee as j,oe as k,te as l,_ as m,ae as n,z as o,B as p,j as s,$ as t};
