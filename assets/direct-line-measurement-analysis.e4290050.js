import"./modulepreload-polyfill.b7f2da20.js";import{i as u,o as w,t as c,b as y,W as d,s as g}from"./utils.ed0797c0.js";import{j as m,k as A,l as v,f as k}from"./vendor.c28ea743.js";const P=new m({x:-116.563645,y:33.772349,spatialReference:A.WGS84});let h=!1;const e=u(d);e.highlightOptions.color=new v([255,255,0,1]);C();w("click-event",b);w("add-analysis",()=>{h=!0});function b(){let t=null;e.on("click",async n=>{var i,s;t==null||t.abort();const{signal:r}=t=new AbortController;try{const{results:o}=await e.hitTest(n);c(r);const a=(s=(i=o.find(l=>l.graphic))==null?void 0:i.graphic)==null?void 0:s.geometry;if(!a)return;if(h){const l=new k({startPoint:a,endPoint:P});e.analyses.removeAll(),e.analyses.add(l)}else{const{x:l,y:f,z:p}=a;g(`Clicked ${[l,f,p]}`)}}catch(o){y(o)}})}function C(){let t=null,n=null;e.on("pointer-move",async r=>{t==null||t.abort();const{signal:i}=t=new AbortController;try{const{results:s}=await e.hitTest(r);c(i),n==null||n.remove(),n=null;const o=s.length>0?s[0].graphic:null;if(o){const a=await e.whenLayerView(o.layer);c(i),n=a.highlight(o)}}catch(s){y(s)}})}
