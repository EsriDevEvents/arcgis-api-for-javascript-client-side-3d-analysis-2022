import"./modulepreload-polyfill.b7f2da20.js";import{c as a,i as l,S as p,o as i,H as w,t as m,b as v}from"./utils.ed0797c0.js";import{I as b,y as A,C as g,n as x,o as I,F as y}from"./vendor.c28ea743.js";let t,o;a("elevation-profile",()=>{t=l(p),i("add-widget",c),i("set-profiles",C)});a("elevation-profile-csv",()=>{t=l(w),c(),i("add-export-button",L)});function c(){o=new b({view:t,profiles:[d()]}),t.ui.add(o,"top-right")}function C(){o.profiles.removeAll(),o.profiles.addMany([d(),S()])}function d(){return new A({color:"#0000ff",title:"Ground"})}function S(){return new g({title:"Layers",color:"#555555",exclude:[t.map.ground]})}function L(){const e=document.createElement("calcite-button");e.textContent="Download as CSV",t.ui.add(e,"bottom-left"),e.addEventListener("click",P)}let r=null;async function P(){const e=o.profiles.getItemAt(0);r==null||r.abort();const{signal:n}=r=new AbortController;try{await x(()=>e.progress===1,n),m(n),V(e.samples)}catch(s){v(s)}}function V(e){const n=["distance","elevation","x","y","z"],f=new I.exports.Parser({fields:n}).parse(e),u=new Blob([f],{type:"text/csv;charset=utf-8"});y.exports.saveAs(u,"profile-data.csv")}
